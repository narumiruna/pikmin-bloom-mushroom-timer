<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Pikmin Bloom è˜‘è‡è¨ˆæ™‚å™¨ - æ”¯æ´å¤šçµ„å€’æ•¸è¨ˆæ™‚ï¼Œè‡ªå‹•è¨ˆç®—é‡ç”Ÿèˆ‡ç·©è¡æ™‚é–“ï¼Œæä¾›éŸ³æ•ˆèˆ‡ç€è¦½å™¨é€šçŸ¥æé†’">
  <title>ğŸ„ Pikmin Bloom è˜‘è‡è¨ˆæ™‚å™¨ - å¤šçµ„å€’æ•¸è¨ˆæ™‚å·¥å…·</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 2em;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }

    h1 {
      color: white;
      text-align: center;
      font-size: 2.5em;
      margin-bottom: 0.5em;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    .timer {
      margin-bottom: 1.2em;
      padding: 1.5em;
      border: none;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.15);
      font-size: 1.6em;
      display: flex;
      align-items: center;
      gap: 1em;
      background: var(--timer-bg, linear-gradient(135deg, #f6f6ff 0%, #e9e9ff 100%));
      position: relative;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      backdrop-filter: blur(10px);
      animation: slideIn 0.4s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .timer:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.2);
    }

    .timer-label {
      font-weight: bold;
      border-radius: 12px;
      padding: 0.4em 1em;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      margin-right: 0.5em;
      font-size: 0.85em;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
      min-width: 3em;
      text-align: center;
    }

    .finished {
      color: #d32f2f;
      font-weight: bold;
      background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
      border: 2px solid #ff6b6b;
      animation: finishPulse 1.5s ease-in-out infinite;
    }

    @keyframes finishPulse {
      0%, 100% {
        box-shadow: 0 8px 32px rgba(255, 107, 107, 0.3);
      }
      50% {
        box-shadow: 0 8px 32px rgba(255, 107, 107, 0.6);
      }
    }

    .timer-time {
      font-size: 2.2em;
      font-weight: bold;
      transition: all 0.3s;
      flex-grow: 1;
      letter-spacing: 0.02em;
    }

    .timer-time.warn {
      color: #ff9800;
      animation: warningPulse 1s ease-in-out infinite;
    }

    @keyframes warningPulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.7;
      }
    }

    .timer-time.expired {
      color: #d32f2f;
      font-size: 2.4em;
    }

    .info-box {
      background: rgba(255, 255, 255, 0.95);
      padding: 1em 1.5em;
      border-radius: 16px;
      margin-bottom: 1.5em;
      color: #555;
      font-size: 1.03em;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
      backdrop-filter: blur(10px);
    }

    .info-box b {
      color: #667eea;
    }

    .info-box span {
      background: #f0f4ff;
      padding: 0.2em 0.5em;
      border-radius: 6px;
      border: 1px solid #d0d8ff;
      font-family: 'Courier New', monospace;
      font-weight: 600;
    }

    #add-timer-form {
      background: rgba(255, 255, 255, 0.95);
      padding: 1.8em;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.15);
      margin-bottom: 2em;
      backdrop-filter: blur(10px);
    }

    #add-timer-form label {
      display: inline-flex;
      flex-direction: column;
      margin-right: 1em;
      margin-bottom: 1em;
      color: #333;
      font-weight: 500;
      font-size: 0.95em;
    }

    #add-timer-form input {
      margin-top: 0.4em;
      padding: 0.8em 1em;
      border: 2px solid #ddd;
      border-radius: 12px;
      font-size: 1.1em;
      transition: all 0.3s;
      background: white;
      font-family: inherit;
    }

    #add-timer-form input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
      transform: translateY(-2px);
    }

    #add-timer-form input[type="number"] {
      width: 5em;
    }

    #input-time {
      width: 18em !important;
    }

    #input-format-tip {
      color: #888;
      margin-left: 0.5em;
      font-size: 0.9em;
      margin-top: 0.3em;
      font-weight: normal;
    }

    #input-error-tip {
      color: #d32f2f;
      font-size: 0.95em;
      margin-top: 1em;
      padding: 0.6em 1em;
      background: #ffebee;
      border-radius: 8px;
      border-left: 4px solid #d32f2f;
      display: none;
    }

    #input-error-tip:not(:empty) {
      display: block;
      animation: shake 0.4s;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-8px); }
      75% { transform: translateX(8px); }
    }

    @keyframes flashBg {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.6;
      }
    }

    button {
      padding: 0.8em 2em;
      border: none;
      border-radius: 12px;
      font-size: 1em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-family: inherit;
    }

    button[type="submit"] {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      box-shadow: 0 4px 16px rgba(102, 126, 234, 0.3);
      margin-top: 0.5em;
    }

    button[type="submit"]:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 24px rgba(102, 126, 234, 0.4);
    }

    button[type="submit"]:active {
      transform: translateY(0);
    }

    .timer button {
      padding: 0.4em 0.8em;
      font-size: 0.6em;
      background: white;
      border: 2px solid #ddd;
      color: #666;
    }

    .timer button:hover {
      background: #f5f5f5;
      border-color: #bbb;
      transform: scale(1.05);
    }

    .timer button:first-of-type {
      font-size: 1em;
      background: #ffebee;
      border: 2px solid #ffcdd2;
      color: #d32f2f;
      width: 2.5em;
      height: 2.5em;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0;
    }

    .timer button:first-of-type:hover {
      background: #ffcdd2;
      border-color: #ef9a9a;
    }

    .usage-section {
      background: rgba(255, 255, 255, 0.95);
      padding: 1.5em;
      border-radius: 16px;
      margin-bottom: 1.5em;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
      backdrop-filter: blur(10px);
    }

    .usage-section h2 {
      color: #667eea;
      font-size: 1.3em;
      margin-bottom: 1em;
      display: flex;
      align-items: center;
      gap: 0.5em;
    }

    .usage-section ol {
      margin-left: 1.5em;
      color: #555;
    }

    .usage-section li {
      margin-bottom: 0.8em;
      line-height: 1.6;
    }

    .usage-section strong {
      color: #667eea;
    }

    .usage-section code {
      background: #f0f4ff;
      padding: 0.2em 0.5em;
      border-radius: 4px;
      border: 1px solid #d0d8ff;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
      color: #333;
    }

    .usage-section ul {
      margin-left: 1.5em;
      margin-top: 0.3em;
    }

    .usage-section ul li {
      margin-bottom: 0.4em;
    }

    .toggle-usage {
      background: rgba(255, 255, 255, 0.95);
      border: 2px solid #667eea;
      color: #667eea;
      padding: 0.6em 1.5em;
      border-radius: 12px;
      cursor: pointer;
      font-size: 0.95em;
      margin-bottom: 1.5em;
      transition: all 0.3s;
      display: block;
      width: 100%;
      text-align: left;
      font-weight: 600;
    }

    .toggle-usage:hover {
      background: #667eea;
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }

    .usage-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }

    .usage-content.expanded {
      max-height: 1000px;
    }

  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ„ å¤šçµ„å€’æ•¸è¨ˆæ™‚å™¨</h1>
    <div class="info-box">
      è«‹è¼¸å…¥æ¬²å€’æ•¸æ™‚é–“ï¼Œå¯ç”¨ <b>hh:mm:ss</b>ã€<b>mm:ss</b> æˆ– <b>ss</b> æ ¼å¼ã€‚<br>
      å®Œæ•´ç¯„ä¾‹å¦‚ï¼š<span>1:23:40</span>ã€<span>5:10</span>ã€<span>30</span> æˆ– <span>1 23 40</span>ï¼ˆç©ºç™½ä¹Ÿå¯ä»¥ï¼‰<br>
      ç³»çµ±å°‡è‡ªå‹•åŠ ä¸Šé‡ç”Ÿ(åˆ†é˜)èˆ‡ç·©è¡(ç§’)ã€‚
    </div>

    <button class="toggle-usage" onclick="toggleUsage()">
      ğŸ“– ä½¿ç”¨èªªæ˜ <span id="toggle-icon">â–¼</span>
    </button>

    <div class="usage-content" id="usage-content">
      <div class="usage-section">
        <h2>ğŸ“– ä½¿ç”¨æ–¹æ³•</h2>
        <ol>
          <li>
            <strong>è¼¸å…¥æ™‚é–“</strong>
            <ul>
              <li>æ”¯æ´ä¸‰ç¨®æ ¼å¼ï¼š<code>hh:mm:ss</code>ï¼ˆå¦‚ 1:50:30ï¼‰ã€<code>mm:ss</code>ï¼ˆå¦‚ 5:10ï¼‰ã€<code>ss</code>ï¼ˆå¦‚ 30ï¼‰</li>
              <li>å¯ä½¿ç”¨å†’è™Ÿæˆ–ç©ºç™½åˆ†éš”ï¼š<code>1:50:30</code> æˆ– <code>1 50 30</code> éƒ½å¯ä»¥</li>
              <li>ç³»çµ±æœƒè‡ªå‹•é©—è­‰æ ¼å¼ä¸¦å³æ™‚é¡¯ç¤ºè§£æçµæœ</li>
            </ul>
          </li>
          <li>
            <strong>è¨­å®šé‡ç”Ÿèˆ‡ç·©è¡æ™‚é–“</strong>
            <ul>
              <li><strong>é‡ç”Ÿæ™‚é–“ï¼ˆåˆ†é˜ï¼‰</strong>ï¼šè˜‘è‡é‡ç”Ÿæ‰€éœ€çš„æ™‚é–“</li>
              <li><strong>ç·©è¡æ™‚é–“ï¼ˆç§’ï¼‰</strong>ï¼šæå‰æé†’çš„æ™‚é–“</li>
              <li><strong>é‡è¤‡éˆ´è²</strong>ï¼šå‹¾é¸å¾Œï¼Œæ™‚é–“åˆ°æ™‚æœƒæ¯ 3 ç§’é‡è¤‡æ’­æ”¾éˆ´è²ï¼Œç›´åˆ°ç§»é™¤è¨ˆæ™‚å™¨</li>
              <li>æœ€çµ‚è¨ˆæ™‚ = è¼¸å…¥æ™‚é–“ + é‡ç”Ÿæ™‚é–“ - ç·©è¡æ™‚é–“</li>
            </ul>
          </li>
          <li>
            <strong>ç®¡ç†è¨ˆæ™‚å™¨</strong>
            <ul>
              <li>é»æ“Š â• <strong>åŠ å…¥å€’æ•¸</strong> æ–°å¢è¨ˆæ™‚å™¨</li>
              <li>æ¯çµ„è¨ˆæ™‚å™¨æœ‰ç¨ç«‹çš„é¡è‰²æ¨™ç±¤</li>
              <li>é»æ“Š âœ• æŒ‰éˆ•å¯ç§»é™¤ä¸éœ€è¦çš„è¨ˆæ™‚å™¨</li>
            </ul>
          </li>
          <li>
            <strong>è¨ˆæ™‚æé†’</strong>
            <ul>
              <li>å‰©é¤˜ â‰¤ 15 ç§’ï¼šæ©˜è‰²è­¦å‘Šä¸¦é–ƒçˆ</li>
              <li>æ™‚é–“åˆ°ï¼šç´…è‰²é«˜äº®ã€æ’­æ”¾éˆ´è²ã€ç€è¦½å™¨é€šçŸ¥</li>
              <li>å¦‚æœå‹¾é¸äº†ã€Œé‡è¤‡éˆ´è²ã€ï¼ŒæœƒæŒçºŒæ’­æ”¾ç›´åˆ°ç§»é™¤è¨ˆæ™‚å™¨</li>
            </ul>
          </li>
        </ol>
      </div>
    </div>

    <form id="add-timer-form">
      <label>
        è¼¸å…¥æ™‚é–“ (hh:mm:ss):
        <input type="text" id="input-time" required
          placeholder="ä¾‹ï¼š1:50:30ã€5:10ã€30 æˆ– 1 50 30">
        <span id="input-format-tip"></span>
      </label>
      <label>
        é‡ç”Ÿæ™‚é–“(åˆ†é˜):
        <input type="number" id="revive-time" min="0" value="5">
      </label>
      <label>
        ç·©è¡æ™‚é–“(ç§’):
        <input type="number" id="buffer-time" min="0" value="10">
      </label>
      <label style="display: inline-flex; flex-direction: row; align-items: center; gap: 0.5em;">
        <input type="checkbox" id="repeat-beep" style="width: auto; margin: 0;">
        <span>é‡è¤‡éˆ´è²ï¼ˆç›´åˆ°ç§»é™¤è¨ˆæ™‚å™¨ï¼‰</span>
      </label>
      <button type="submit">â• åŠ å…¥å€’æ•¸</button>
      <div id="input-error-tip"></div>
    </form>
    <div id="timers"></div>
  </div>
<script>
// å±•é–‹/æ”¶åˆä½¿ç”¨èªªæ˜
function toggleUsage() {
  const content = document.getElementById('usage-content');
  const icon = document.getElementById('toggle-icon');
  content.classList.toggle('expanded');
  icon.textContent = content.classList.contains('expanded') ? 'â–²' : 'â–¼';
}

// å³æ™‚æ ¼å¼æª¢æŸ¥èˆ‡æç¤º
const inputTime = document.getElementById('input-time');
const tip = document.getElementById('input-format-tip');
inputTime.addEventListener('input', function() {
  const val = inputTime.value.trim();
  if (!val) {
    tip.textContent = '';
    tip.style.color = '#888';
    inputTime.style.borderColor = '#ddd';
    return;
  }
  const sec = parseTime(val);
  if (sec === null) {
    tip.textContent = 'æ ¼å¼éŒ¯èª¤ï¼Œè«‹è¼¸å…¥ hh:mm:ssã€mm:ss æˆ– ssï¼ˆå¯ç”¨ç©ºç™½åˆ†éš”ï¼‰';
    tip.style.color = 'red';
    inputTime.style.borderColor = 'red';
  } else if (sec === 0) {
    tip.textContent = 'æ™‚é–“ä¸å¯ç‚º 0';
    tip.style.color = 'red';
    inputTime.style.borderColor = 'red';
  } else {
    tip.textContent = 'æ ¼å¼æ­£ç¢ºï¸°' + secToHHMMSS(sec);
    tip.style.color = 'green';
    inputTime.style.borderColor = 'green';
  }
});

const timers = [];

function parseTime(str) {
  // æ”¯æ´ ss, mm:ss, hh:mm:ssï¼Œè‡ªå‹•å¿½ç•¥é ­å°¾ç©ºç™½èˆ‡éæ³•è¼¸å…¥
  // å…è¨±ä½¿ç”¨ç©ºç™½ä»£æ›¿å†’è™Ÿï¼Œä¾‹å¦‚ "1 50 20" ç­‰æ–¼ "1:50:20"
  const safe = str.trim().replace(/\s+/g, ':').replace(/^:+|:+$/g, "");
  const parts = safe.split(':').map(x => x.trim()).map(Number);
  if (parts.length === 1 && !isNaN(parts[0]) && parts[0] >= 0) {
    return parts[0];
  } else if (parts.length === 2 && parts.every(n => !isNaN(n) && n >= 0)) {
    return parts[0] * 60 + parts[1];
  } else if (parts.length === 3 && parts.every(n => !isNaN(n) && n >= 0)) {
    return parts[0] * 3600 + parts[1] * 60 + parts[2];
  }
  return null;
}


function secToHHMMSS(sec) {
  let h = Math.floor(sec / 3600);
  let m = Math.floor((sec % 3600) / 60);
  let s = sec % 60;
  return `${h}:${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
}

function playBeep() {
  // ä½¿ç”¨ C å¤§èª¿å’Œå¼¦éŸ³éšï¼Œæ›´åŠ æ‚…è€³å’Œè«§
  const beepSeq = [
    { freq: 523.25, dur: 0.15 },  // C5
    { freq: 659.25, dur: 0.15 },  // E5
    { freq: 783.99, dur: 0.15 },  // G5
    { freq: 1046.5, dur: 0.3 }    // C6 (å»¶é•·ä½œç‚ºçµå°¾)
  ];
  const gap = 0.08;

  try {
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    let t = ctx.currentTime;

    beepSeq.forEach((note, index) => {
      // å‰µå»ºæŒ¯ç›ªå™¨
      let osc = ctx.createOscillator();
      osc.type = 'sine';
      osc.frequency.setValueAtTime(note.freq, t);

      // å‰µå»ºéŸ³é‡æ§åˆ¶ç¯€é»ï¼Œæ·»åŠ æ·¡å…¥æ·¡å‡ºæ•ˆæœ
      let gainNode = ctx.createGain();
      gainNode.gain.setValueAtTime(0, t);
      gainNode.gain.linearRampToValueAtTime(0.3, t + 0.02);  // å¿«é€Ÿæ·¡å…¥
      gainNode.gain.linearRampToValueAtTime(0.3, t + note.dur - 0.05);  // ä¿æŒ
      gainNode.gain.linearRampToValueAtTime(0, t + note.dur);  // æ·¡å‡º

      // é€£æ¥ç¯€é»
      osc.connect(gainNode);
      gainNode.connect(ctx.destination);

      // æ’­æ”¾
      osc.start(t);
      osc.stop(t + note.dur);

      t += note.dur + gap;
    });
  } catch(e) {
    alert('éˆ´è²ä¸æ”¯æ´ï¼Œè«‹è‡ªè¡Œæ³¨æ„æ™‚é–“ï¼');
  }
}

function addTimer(targetSec, repeatBeep) {
  const timerIdx = timers.length + 1;
  const colors = [
    'linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%)',
    'linear-gradient(135deg, #fff9c4 0%, #fff59d 100%)',
    'linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%)',
    'linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)',
    'linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%)',
    'linear-gradient(135deg, #f1f8e9 0%, #dcedc8 100%)'
  ];
  const timer = {
    target: Date.now() + targetSec * 1000,
    original: targetSec,
    finished: false,
    element: null,
    repeatBeep: repeatBeep,
    beepInterval: null
    // å¯æ“´å……: id, label
  };
  timers.push(timer);

  let elem = document.createElement('div');
  elem.className = 'timer';
  elem.style.setProperty('--timer-bg', colors[(timerIdx-1)%colors.length]);

  // æ–°å¢æ¨™ç±¤å€å¡Š
  let label = document.createElement('span');
  label.className = 'timer-label';
  label.textContent = `#${timerIdx}`;
  elem.appendChild(label);

  // æ–°å¢ç§»é™¤æŒ‰éˆ•
  let delBtn = document.createElement('button');
  delBtn.textContent = 'âœ•';
  delBtn.title = 'ç§»é™¤è¨ˆæ™‚';
  delBtn.style.marginRight = '0.5em';
  delBtn.onclick = function() {
    // åœæ­¢é‡è¤‡éˆ´è²
    if (timer.beepInterval) {
      clearInterval(timer.beepInterval);
      timer.beepInterval = null;
    }
    elem.remove();
    timer.removed = true;
  };
  elem.appendChild(delBtn);

  let timeBox = document.createElement('span');
  timeBox.className = 'timer-time';
  elem.appendChild(timeBox);
  timer.element = elem;
  timer.timeBox = timeBox;
  document.getElementById('timers').appendChild(elem);
}

function updateTimers() {
  const now = Date.now();
  for (let timer of timers) {
    if (timer.finished || timer.removed) continue;
    let remainMs = timer.target - now;
    let remain = remainMs > 0 ? Math.ceil(remainMs / 1000) : 0;
    timer.timeBox.textContent = `å‰©é¤˜æ™‚é–“: ${secToHHMMSS(remain)}`;
    timer.timeBox.classList.remove('warn','expired');
    if (remain <= 0) {
      timer.timeBox.classList.add('expired');
    } else if (remain <= 15) {
      timer.timeBox.classList.add('warn');
    }
    if (remainMs <= 0 && !timer.finished) {
      timer.finished = true;
      timer.timeBox.textContent = 'æ™‚é–“åˆ°ï¼';
      timer.element.classList.add('finished');
      timer.element.style.animation = 'flashBg 1.2s linear 2';
      playBeep();

      // å¦‚æœå‹¾é¸é‡è¤‡éˆ´è²ï¼Œå‰‡æ¯ 3 ç§’é‡è¤‡æ’­æ”¾
      if (timer.repeatBeep) {
        timer.beepInterval = setInterval(function() {
          if (!timer.removed) {
            playBeep();
          } else {
            clearInterval(timer.beepInterval);
          }
        }, 3000);
      }

      // è·³å‡ºç€è¦½å™¨é€šçŸ¥æé†’
      if (window.Notification) {
        if (Notification.permission === 'granted') {
          new Notification(`ç¬¬${Array.from(document.querySelectorAll('.timer')).indexOf(timer.element)+1}çµ„è¨ˆæ™‚å·²çµæŸï¼`, {
            body: 'è«‹æ³¨æ„é€²åº¦æˆ–åŸ·è¡Œæ“ä½œ',
            icon: '' // å¯è‡ªè¨‚ icon
          });
        } else if (Notification.permission !== 'denied') {
          Notification.requestPermission().then(function(p) {
            if (p === 'granted') {
              new Notification(`ç¬¬${Array.from(document.querySelectorAll('.timer')).indexOf(timer.element)+1}çµ„è¨ˆæ™‚å·²çµæŸï¼`, {
                body: 'è«‹æ³¨æ„é€²åº¦æˆ–åŸ·è¡Œæ“ä½œ',
                icon: ''
              });
            }
          });
        }
      }
    }
  }
}

setInterval(updateTimers, 250);

document.getElementById('add-timer-form').addEventListener('submit', function(e) {
  e.preventDefault();
  const input = document.getElementById('input-time').value;
  const reviveMin = Number(document.getElementById('revive-time').value) || 0;
  const bufferSec = Number(document.getElementById('buffer-time').value) || 0;
  const repeatBeep = document.getElementById('repeat-beep').checked;
  let errorTip = document.getElementById('input-error-tip');
  errorTip.textContent = '';
  let baseSec = parseTime(input);
  if (baseSec == null) {
    errorTip.textContent = 'æ ¼å¼éŒ¯èª¤ï¼Œè«‹è¼¸å…¥ hh:mm:ss (ä¾‹: 1:50:30 æˆ– 1 50 30)';
    return;
  }
  // è‡ªè¨‚é‡ç”Ÿ+ç·©è¡æ™‚é–“
  const totalSec = baseSec + reviveMin * 60 - bufferSec;
  if (totalSec <= 0) {
    errorTip.textContent = 'æ™‚é–“éœ€å¤§æ–¼0ï¼';
    return;
  }
  addTimer(totalSec, repeatBeep);
  document.getElementById('input-time').value = '';
  tip.textContent = '';
  inputTime.style.borderColor = '#ddd';

});
</script>
</body>
</html>
